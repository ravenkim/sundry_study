<!doctype html>
<html lang="en" class="theme-instant">
    <head>
        <script>
            ;(() => {
                try {
                    // 새로고침시 임시 배경화면 제공
                    const theme =
                        localStorage.getItem('vite-ui-theme') || 'system'
                    const vars = JSON.parse(
                        localStorage.getItem('vite-ui-theme-vars') || '{}',
                    )
                    const prefersDark = window.matchMedia(
                        '(prefers-color-scheme: dark)',
                    ).matches
                    const isDark =
                        theme === 'dark' || (theme === 'system' && prefersDark)

                    const root = document.documentElement
                    root.classList.add(isDark ? 'dark' : 'light')

                    const bg = (isDark ? vars.darkVars : vars.lightVars)?.[
                        '--background'
                    ]
                    root.style.backgroundColor =
                        bg || (isDark ? 'oklch(0.145 0 0)' : '')
                } catch (e) {
                    console.warn('Early theme apply failed', e)
                }
            })()
        </script>

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Work Helper</title>
    </head>
    <body class="preload">
        <div id="root"></div>
        <script type="module">
            import('/src/main.tsx')
        </script>
    </body>
</html>
